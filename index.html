<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marauderova mapa – Svatební stopa</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: monospace;
      margin: 0;
      overflow: hidden;
    }

    .map-container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    .map-bg {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0.15;
    }

    .clue {
      position: absolute;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .clue.hidden {
      display: none;
    }

    .compass {
      position: fixed;
      bottom: 20px;
      right: 20px;
      width: 100px;
      height: 100px;
    }

    .audio-control {
      display: none;
    }
  </style>
</head>
<body>
  <div class="map-container">
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/02/BlankMap-World-Black.svg/1920px-BlankMap-World-Black.svg.png" class="map-bg" alt="Mapa">

    <!-- Stopa 1 -->
    <div id="clue1" class="clue" style="top: 20%; left: 30%;" onclick="revealClue(2)">
      <img src="https://media.giphy.com/media/j5hPQJaBvGsXu5iDZm/giphy.gif" width="80" alt="Stopa 1">
      <audio id="audio1" class="audio-control" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"></audio>
    </div>

    <!-- Stopa 2 -->
    <div id="clue2" class="clue hidden" style="top: 45%; left: 50%;" onclick="revealClue(3)">
      <img src="https://media.giphy.com/media/SUenM4zsOi7rjW7MJo/giphy.gif" width="80" alt="Stopa 2">
      <audio id="audio2" class="audio-control" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"></audio>
    </div>

    <!-- Stopa 3 (poslední) -->
    <div id="clue3" class="clue hidden" style="top: 70%; left: 65%;" onclick="revealClue(4)">
      <img src="https://media.giphy.com/media/XxYkO3loZ3R68cazXz/giphy.gif" width="80" alt="Stopa 3">
      <audio id="audio3" class="audio-control" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"></audio>
    </div>

    <!-- Kompas -->
    <div class="compass">
      <img src="https://upload.wikimedia.org/wikipedia/commons/7/73/Compass_Rose_English_North.svg" id="compass" alt="Kompas" style="width: 100%; height: auto;">
    </div>
  </div>

  <script>
    function revealClue(nextClueNumber) {
      const currentAudio = document.querySelector(`#audio${nextClueNumber - 1}`);
      if (currentAudio) currentAudio.play();

      const nextClue = document.querySelector(`#clue${nextClueNumber}`);
      if (nextClue) nextClue.classList.remove("hidden");

      if (nextClueNumber === 4) stopCompass();
    }

    // Kompasová animace
    let angle = 0;
    const compassInterval = setInterval(() => {
      const compass = document.getElementById("compass");
      compass.style.transform = `rotate(${angle}deg)`;
      angle += 2;
    }, 50);

    function stopCompass() {
      clearInterval(compassInterval);
      document.getElementById("compass").style.transform = "rotate(90deg)";
    }
  </script>
</body>
</html>
